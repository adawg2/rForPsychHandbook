# Introduction to R {#intro}

Before starting out, it's worth mentioning that R has a steep learning curve compared to other statistical softwares. 
While there are tons of blog posts as to why you should learn R, I will keep my list quick so if you get discouraged at any point, you can come back to this list and get reinspired before R starts paying you back.

1. The R community is fantastic, check out #rstats on Twitter (this is really my favorite reason)
2. R will always be free because the people behind it believe in open source principles LINK.
3. Time spent learning R is time spent learning how computers work, if you learn about R, you are also learning computer programming. Time spent in something like SPSS or SAS does not easily tranfer to other programs.
4. On r-jobs.com the way they decide to split jobs is jobs that make above and below $100,000.
5. R is your ticket out of academia, if you need it. 

## Getting Started

Since this book is about statistics and R, the introduction to all things R is a bit shorter than other guides.
If you need help, find a friend (or email the author of this book) and they will get you started.
The first things you need to do is download R from CRAN, then get the latest version of RStudio.
RStudio is an IDE that makes working in R a lot easier.
Do not use R without it.

Once you have that, you can start to play around with this.

##Setting The Working Directory

At the end a long writing session you normally have to find a place to save that journal article you are working on. 
You do this by clicking 'Save As' then finding where to stick it and what to call it.
If you are programming you need to do this right away by saving your script (the what) and setting your working directory (the where).

Once you have a new script set up, now we can start to run the next commands.
This chapter covers a few basic things

* The rationale behind to writing scripts and code
* R as Calculator
* Data Structures
* Manipulating Data
* Tons of functions
* Whirlwind tour of R for psychologists

The goals of this chapter are to:


* Learn Basics of R and RStudio
* Practice concepts with simple examples
* Familiarize with vast array of functions
* Have vocabulary and "R" way to think about problem solving

## Rationale 

Easily reproducible
Less Human Error in cleaning
Time invested in programming transfers
Pretty Graphs
Open Science
Huge integration

## R as Calculator

The Console of R is where all the action happens. 
You can use it just like you would use a calculator. 
Try to do some basic math operations in it.

```{r}
2 + 2
5 - 2
10 / 4
9 * 200
sqrt(81)
10 > 4
2 < -1
```

You don't always want to print your output and retype it in. 
Idea is to be very lazy (efficient).

Save some math to an object with the <- operator, then manipulate that.

```{r}
foo <- 2 * 3
foo * 6
```


Notice what has popped up in your environment in RStudio!

Let's get more efficient.

```{r}
yearsInGradSchool <- c(2,1,4,5,6,7,3,2,4,5,3)
```

talk about the c function.

```{r}
yearsInGradSchool * 3
```

Or this 

```{r}
yearsInGradSchool - 2
```

```{r}
yearsInGradSchool < 2
```


```{r}
mean(yearsInGradSchool)
sd(yearsInGradSchool)
```

```{r}
hist(yearsInGradSchool)
scale(yearsInGradSchool)
range(yearsInGradSchool)
min(yearsInGradSchool)
class(yearsInGradSchool)
str(yearsInGradSchool)
summary(yearsInGradSchool)
```


```{r}
yearsInGradSchool <- c(2,1,4,5,6,7,3,2,4,5,3)
classesTaken <- c(5,2,5,7,9,9,2,8,4,7,2)
gradData <- data.frame(yearsInGradSchool,classesTaken)
```

```{r}
cor(yearsInGradSchool,classesTaken)
```

Basic plots, arguments. ggplot and libraries

```{r}
plot(yearsInGradSchool,classesTaken, 
     data = gradData, 
     main = "My Plot", 
     xlab = "Years in Grad School", 
     ylab = "Classes Taken")
```

## Data Exploration

```{r}
str(iris)
class(iris)
summary(iris)
```

Accessing individual 'columns' is done with the $ operator

```{r}
iris$Sepal.Length
```

Can you use this to plot the different numeric values against each other?

What would the follow commands do?

```{r}
hist(scale(iris$Sepal.Length))

iris$Sepal.Length.scale <- scale(iris$Sepal.Length)
```

## Indexing


Let's combine logical indexing with creating new objects.

What do the follow commands do? Why?

```{r}
iris[1,1]
iris[2,]
iris[,5]
iris[iris$Sepal.Length < 5,]
iris[,c(1:4)]
iris[c(1,2,3,4,5,6,8),c(1:3,5)]
Setosas <- iris[iris$Species == "setosa",]
```
This could be an entire lecture by itself!!!

## Whirlwind Tour of R


R's power comes in the fact that you download packages to put on top of base R

* Turning Data tables into already formatted APA Latex Tables (stargazer, xtable)
* Creating Publication Quality Graphs (ggplot2)
* Text manipulation (stringr)
* Exploring data and not making chart after chart after chart (psych)
* Every statistical test you could want (psych, cars, ezanova, lavaan)
* Software to plot not so normal output (SEMplots)
* Making Websites in R
* These slides were written in R
* Quickly processing huge datasets (data.table, dplyr)
* Tons of Machine Learning


```{r}

library(ggplot2)
ggplot(iris, aes(x = Sepal.Length, y = Sepal.Width, 
                 color = Species), 
       xlab = "Sepal Length",
       ylab = "Sepal Width",
       main = "My Plot") + geom_point()
```


Or stuff for data exploration

```{r}
library(psych)
pairs.panels(iris)
```

## Functions for Psychologists

* nlme() and lme4() for Multilevel Modeling
* lavaan() for Latent Variable Analysis
* ezAnova() for ANOVA based testing; the anova() function does model comparisons
* profileR for Repeated Measures MANOVA
* glm() and lm() for linear models
* caret() for Machine Learning

## Resources

LINK THESE IN

* swirl
* stackoverflow.com
* Twitter
* Your peers
* R Community is fantastic (tidyverse!!!)

### Template Stuff
You can label chapter and section titles using `{#label}` after them, e.g., we can reference Chapter \@ref(intro). If you do not manually label them, there will be automatic labels anyway, e.g., Chapter \@ref(methods).

Figures and tables with captions will be placed in `figure` and `table` environments, respectively.

```{r nice-fig, fig.cap='Here is a nice figure!', out.width='80%', fig.asp=.75, fig.align='center'}
par(mar = c(4, 4, .1, .1))
plot(pressure, type = 'b', pch = 19)
```

Reference a figure by its code chunk label with the `fig:` prefix, e.g., see Figure \@ref(fig:nice-fig). Similarly, you can reference tables generated from `knitr::kable()`, e.g., see Table \@ref(tab:nice-tab).

```{r nice-tab, tidy=FALSE}
knitr::kable(
  head(iris, 20), caption = 'Here is a nice table!',
  booktabs = TRUE
)
```

You can write citations, too. For example, we are using the **bookdown** package [@R-bookdown] in this sample book, which was built on top of R Markdown and **knitr** [@xie2015].
